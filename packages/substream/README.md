The substream service controls indexing emitted events from a substream endpoint and writing these events into our PostgreSQL sink.

### Running the substream

Provide the runtime environment with the keys from `.env.example`. If running locally create a `.env` file and update with the keys from `.env.example`.

```bash
# Run from within the root of the monorepo
pnpm install

# Run from within /packages/substream
pnpm initialize
pnpm build
pnpm start
```

`pnpm start` starts the sink service with the substream package generated by the substream's Rust bindings, transforms the data from the substream events, and writes the data to our PostgreSQL database.

`pnpm start` also accepts some optional flags to control the start block and whether to reset the sink database.

```bash
pnpm start --start-block 881 --reset-db
```
